# ①課題名
チャットアプリ（API連携版）

## ②課題内容（どんな作品か）
- Firebase Realtime Databaseを使用したチャットアプリです。メッセージを送信すると、自動的に「シゲル」という相手から返信が来る機能ですが、前回から、API機能をアップデートしました。
- ポケモン番号を入力すると、ポケモンAPIから画像を取得し、Gemini APIからポケモンの概要を取得して表示する機能を追加しました。

![チャットアプリのスクリーンショット](images/2.png)

## ③アプリのデプロイURL
デプロイしている場合はURLを記入（任意）

## ④アプリのログイン用IDまたはPassword（ある場合）
なし

## ⑤工夫した点・こだわった点

- **fetch APIの学習**: `fetch()`を使って外部APIにHTTPリクエストを送信します。
- **ポケモンAPI連携**: 「ポケモン25」のように番号を入力すると、ポケモンAPI（PokeAPI）からそのポケモンの画像と名前を取得して表示します。
- **Gemini API連携**: ポケモン番号を入力すると、GoogleのGemini APIを使ってポケモンの概要を日本語で取得します。`async function`と`await`を使って非同期処理を実装し、APIの応答を待つ処理を学びました。
- **タイムアウト処理**: Gemini APIの呼び出しに`AbortController`を使ったタイムアウト処理（30秒）を実装し、APIが応答しない場合でもアプリがフリーズしないようにしました。
- **エラーハンドリング**: `try-catch`文を使って、API呼び出しが失敗した場合のエラー処理を実装しました。

## ⑥難しかった点・次回トライしたいこと（又は機能）
- **APIのレスポンス形式**: Gemini APIのレスポンス形式が複雑で、仕組みやデータがあるのか分からず苦労しました。
- **タイムアウト処理**: `AbortController`と`signal`の仕組みを理解するのが難しかったです。
- **正規表現**: ポケモン番号を検出するための正規表現（`/ポケモン\s*(\d+)/i`）を書くのが難しかったです。

## ⑦フリー項目（感想、シェアしたいこと等なんでも）
- APIを実際に使ってみて、外部のサービスと連携する面白さを実感しました。どのようなAPIが存在しているかを把握するのが、まず重要だと思いました。
